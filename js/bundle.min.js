!function e(t,n,o){function r(i,s){if(!n[i]){if(!t[i]){var u="function"==typeof require&&require;if(!s&&u)return u(i,!0);if(a)return a(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[i]={exports:{}};t[i][0].call(l.exports,function(e){var n=t[i][1][e];return r(n||e)},l,l.exports,e,t,n,o)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<o.length;i++)r(o[i]);return r}({1:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=e("react"),a=o(r),i=e("react-dom"),s=e("react-router"),u=e("react-tap-event-plugin"),c=o(u),l=e("./routes"),h=o(l);(0,c.default)(),(0,i.render)(a.default.createElement(s.Router,{routes:h.default,history:s.hashHistory}),document.getElementById("app"))},{"./routes":6,react:"react","react-dom":"react-dom","react-router":"react-router","react-tap-event-plugin":"react-tap-event-plugin"}],2:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=e("react"),u=function(e){return e&&e.__esModule?e:{default:e}}(s),c=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"render",value:function(){return u.default.createElement("div",null,this.props.children)}}]),t}(s.Component);n.default=c},{react:"react"}],3:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=e("react"),u=function(e){return e&&e.__esModule?e:{default:e}}(s),c=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inMemCanvas=null,n.inMemCtx=null,n.canvas=null,n.ctx=null,n.lineJoin="round",n.lineCap="round",n.state={tool:"brush",brushSize:2,eraserSize:30,color:"white"},n}return a(t,e),i(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({tool:e.tool,brushSize:e.brushSize,eraserSize:e.eraserSize,color:e.color},function(){t.updateBrush()})}},{key:"componentDidMount",value:function(){var e=this;this.canvas=document.getElementById("canvas"),this.ctx=this.canvas.getContext("2d"),this.createInMemoryCanvas(),window.addEventListener("resize",function(){return e.initBoard()},!1),this.initBoard()}},{key:"createInMemoryCanvas",value:function(){var e=this.getScreenSize(),t=e.width,n=e.height;this.inMemCanvas=document.createElement("canvas"),this.inMemCanvas.width=t,this.inMemCanvas.height=n,this.inMemCtx=this.inMemCanvas.getContext("2d"),this.updateBrush()}},{key:"initBoard",value:function(){var e=this,t=this,n={x:0,y:0},o={x:0,y:0},r=this.getScreenSize(),a=r.width,i=r.height;this.canvas.width=a,this.canvas.height=i,this.ctx.drawImage(this.inMemCanvas,0,0),this.updateBrush();var s=function(){return e.draw(o,n)},u=function(e,t){o.x=n.x,o.y=n.y,n.x=e.pageX-t.offsetLeft,n.y=e.pageY-t.offsetTop};this.canvas.addEventListener("mousemove",function(e){u(e,this)},!1),this.canvas.addEventListener("mousedown",function(t){0===t.button&&(e.props.hideMenu(),e.canvas.addEventListener("mousemove",s,!1))},!1),this.canvas.addEventListener("mouseup",function(t){0===t.button&&e.canvas.removeEventListener("mousemove",s,!1)},!1),this.canvas.addEventListener("touchstart",function(e){1===e.targetTouches.length&&(u(e.targetTouches[0],this),t.props.hideMenu(),t.canvas.addEventListener("touchmove",s,!1))},!1),this.canvas.addEventListener("touchmove",function(e){e.preventDefault(),1===e.targetTouches.length&&u(e.targetTouches[0],this)},!1),this.canvas.addEventListener("touchleave",function(t){e.canvas.removeEventListener("touchmove",s,!1)},!1)}},{key:"draw",value:function(e,t){this.ctx.beginPath(),this.inMemCtx.beginPath(),"brush"===this.state.tool?(this.moveLine(e,t,"source-over",this.ctx),this.moveLine(e,t,"source-over",this.inMemCtx)):"eraser"===this.state.tool&&(this.moveLine(e,t,"destination-out",this.ctx),this.moveLine(e,t,"destination-out",this.inMemCtx)),this.ctx.closePath(),this.ctx.stroke(),this.inMemCtx.closePath(),this.inMemCtx.stroke()}},{key:"moveLine",value:function(e,t,n,o){o.globalCompositeOperation=n,o.moveTo(e.x,e.y),o.lineTo(t.x,t.y)}},{key:"getScreenSize",value:function(){var e=window.getComputedStyle(document.querySelector(".board"));return{width:parseInt(e.getPropertyValue("width")),height:parseInt(e.getPropertyValue("height"))}}},{key:"updateBrush",value:function(){var e=this.state.brushSize,t=this.state.eraserSize,n=this.state.tool,o=4;"brush"===n?o=2===e?4:3===e?10:4===e?15:5===e?25:6===e?35:e:"eraser"===n&&(o=2===t?8:3===t?15:4===t?30:5===t?45:6===t?60:t),this.setBrushOptions(o,this.lineJoin,this.lineCap,this.state.color,this.ctx),this.setBrushOptions(o,this.lineJoin,this.lineCap,this.state.color,this.inMemCtx)}},{key:"setBrushOptions",value:function(e,t,n,o,r){r.lineWidth=e,r.lineJoin=t,r.lineCap=n,r.strokeStyle=o}},{key:"render",value:function(){return u.default.createElement("div",{className:"board"},u.default.createElement("canvas",{id:"canvas"}))}}]),t}(s.Component);n.default=c},{react:"react"}],4:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=e("react"),l=o(c),h=e("./Board"),f=o(h),d=e("../menu/Menu"),p=o(d),m=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.mouse={x:0,y:0},n.state={tool:"brush",menu:{show:!1,x:0,y:0}},n}return i(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this,t=document.getElementById("canvas"),n=function(t,n){e.mouse.x=t.pageX-n.offsetLeft,e.mouse.y=t.pageY-n.offsetTop-100};t.addEventListener("mousemove",function(e){n(e,this)},!1),t.addEventListener("touchstart",function(t){t.targetTouches.length>1&&(n(t.targetTouches[0],this),e.showMenu())},!1),window.oncontextmenu=function(){return e.state.menu.show?(e.hideMenu(),setTimeout(function(){e.showMenu()},200)):e.showMenu(),!1}}},{key:"showMenu",value:function(){this.setState({menu:{show:!0,x:this.mouse.x,y:this.mouse.y}})}},{key:"hideMenu",value:function(){var e=this.state.menu;this.setState({menu:{show:!1,x:e.x,y:e.y}})}},{key:"handleSelectToolOptions",value:function(e,t,n,o){var r=this.state.menu;this.setState({tool:e,brushSize:t,eraserSize:n,color:o,menu:{show:!1,x:r.x,y:r.y}})}},{key:"render",value:function(){return l.default.createElement("section",{id:"app-content"},l.default.createElement(f.default,{hideMenu:this.hideMenu.bind(this),tool:this.state.tool,brushSize:this.state.brushSize,eraserSize:this.state.eraserSize,color:this.state.color}),l.default.createElement(p.default,s({},this.state.menu,{selectTool:this.handleSelectToolOptions.bind(this)})))}}]),t}(c.Component);n.default=m},{"../menu/Menu":5,"./Board":3,react:"react"}],5:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=e("react"),u=function(e){return e&&e.__esModule?e:{default:e}}(s),c=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showSubmenu:!1,tool:"brush",brushSize:2,eraserSize:4,color:"white"},n}return a(t,e),i(t,null,[{key:"brushColors",value:function(){return["white","red","blue","green","yellow","black"]}}]),i(t,[{key:"onMouseOverButton",value:function(e,t){t.stopPropagation(),e&&"config"!==e?this.setState({showSubmenu:!0,tool:e}):"config"===e?this.setState({showSubmenu:!1,tool:e}):"config"!==this.state.tool||e?this.setState({showSubmenu:!0}):this.setState({showSubmenu:!1})}},{key:"onMouseOutButton",value:function(e){e.stopPropagation(),this.setState({showSubmenu:!1})}},{key:"handleClickConfig",value:function(){}},{key:"handleClickBrush",value:function(){var e=this,t=this.state;this.setState({tool:"brush"},function(){e.props.selectTool("brush",t.brushSize,t.eraserSize,t.color)})}},{key:"handleClickEraser",value:function(){var e=this,t=this.state;this.setState({tool:"eraser"},function(){e.props.selectTool("eraser",t.brushSize,t.eraserSize,t.color)})}},{key:"handleSelectSize",value:function(e){var t=this,n=this.state,o={brush:n.brushSize,eraser:n.eraserSize};"brush"===n.tool?o.brush=e:o.eraser=e,this.setState({brushSize:o.brush,eraserSize:o.eraser},function(){t.props.selectTool(n.tool,o.brush,o.eraser,n.color)})}},{key:"handleSelectColor",value:function(e){var t=this;this.setState({color:e},function(){t.props.selectTool("brush",t.state.brushSize,t.state.eraserSize,e)})}},{key:"renderSizeOptions",value:function(){var e=this,t=this.state.tool,n="brush"===t||"eraser"===t?"":"hide";return n+="brush"===t?"flip-circle":"",u.default.createElement("div",{className:"menu-circle "+n},[1,2,3,4,5,6].map(function(t,n){return u.default.createElement("div",{key:n,className:"ball ball-size ball-size-"+t,onClick:e.handleSelectSize.bind(e,t)})}))}},{key:"renderColorOptions",value:function(){var e=this;return u.default.createElement("div",{className:"menu-circle"+("color"===this.state.tool?"":" hide")},t.brushColors().map(function(t,n){return u.default.createElement("div",{key:n,className:"ball ball-color ball-color-"+(n+1),onClick:e.handleSelectColor.bind(e,t)})}))}},{key:"render",value:function(){var e=this,t={top:this.props.y+"px",left:this.props.x+"px"},n=this.props.show?" menu-open":"",o=this.state.showSubmenu?"submenu-open":"",r=[{name:"brush",icon:"pencil"},{name:"eraser",icon:"eraser"},{name:"color",icon:"tint"},{name:"config",icon:"cog"}];return u.default.createElement("div",{id:"menu",className:"menu noselect"+n,style:t},u.default.createElement("div",{className:"menu-board noselect"},u.default.createElement("div",{className:"main-menu noselect"},u.default.createElement("ul",null,r.map(function(t,n){var o=function(){};return"config"===t.name?o=e.handleClickConfig.bind(e):"brush"===t.name?o=e.handleClickBrush.bind(e):"eraser"===t.name&&(o=e.handleClickEraser.bind(e)),u.default.createElement("li",{key:n,className:e.state.tool===t.name?"button-active":""},u.default.createElement("span",{onMouseOver:e.onMouseOverButton.bind(e,t.name),onMouseOut:e.onMouseOutButton.bind(e),onClick:o},u.default.createElement("i",{className:"fa fa-"+t.icon+" fa-2x"})))})))),u.default.createElement("div",{className:"menu-center noselect "+o,onMouseOver:this.onMouseOverButton.bind(this,null),onMouseOut:this.onMouseOutButton.bind(this)},this.renderSizeOptions(),this.renderColorOptions(),u.default.createElement("div",{className:"menu-logo noselect"},u.default.createElement("span",{className:"logo"}))))}}]),t}(s.Component);n.default=c},{react:"react"}],6:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("react"),a=o(r),i=e("react-router"),s=e("./components/App"),u=o(s),c=e("./components/dashboard/Dashboard"),l=o(c);n.default=a.default.createElement(i.Route,null,a.default.createElement(i.Route,{path:"/",component:u.default},a.default.createElement(i.IndexRoute,{component:l.default})))},{"./components/App":2,"./components/dashboard/Dashboard":4,react:"react","react-router":"react-router"}]},{},[1]);